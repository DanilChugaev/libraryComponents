<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Main page</title>

    <!--На страницах будут подключаться скрипты и стили относящиеся к данной странице-->
    <!--Также будут общие файлы-->

    <!-- -------------------------------------------------------------------------------- -->
    <!--Здесь указываются фавиконы для различных устройств-->
    <link rel="shortcut icon" href="ico/favicon.png">
    <link rel="apple-touch-icon-precomposed" sizes="256x256" href="ico/256-256.png">
    <link rel="apple-touch-icon-precomposed" sizes="128x128" href="ico/128-128.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/72-72.png">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="ico/64-64.png">
    <link rel="apple-touch-icon-precomposed" href="ico/favicon.png">
    <!-- -------------------------------------------------------------------------------- -->

    <!--Стили для прелоадера, он необходим чтобы пользователь не видел "голый" текст без стилей-->
    <link rel="stylesheet" href="css/preloader.css">
</head>
<body>
    <!-- -------------------------------------------------------------------------------- -->
    <!--Изначально прелоадер скрыт, чтобы в случае если js не работает в браузере,
        у пользователя бесконечно прелоадер не крутился-->
    <div id="loader" class="loader">
        <div class="loader-img"></div>
    </div>
    <script>
        (function(){
            document.getElementById('loader').style.display = "block";
        })();
    </script>
    <!-- -------------------------------------------------------------------------------- -->

    <header id="top">
        <div class="lang-select">
            <label id="js-lang-select" class="lang-select__label">
                <span class="lang-select__text">Rus</span>
                <input type="checkbox" name="lang-select" class="lang-select__input" value="en" checked>
                <span class="lang-select__text">Eng</span>
            </label>
        </div>

        <span data-lang="ru">Библиотека компонентов</span>
        <span data-lang="en">Component library</span>
    </header>

    <main>
        <ul class="list-components">
            <li>
                <a href="download-files.html">
                    <span data-lang="ru">Загрузка файлов</span>
                    <span data-lang="en">Download files</span>
                </a>
            </li>
            <li>
                <a href="">
                    <span data-lang="ru">Всплывашки и всплывающие окна</span>
                    <span data-lang="en">Pop-ups</span>
                </a>
            </li>
            <li><a href="">3</a></li>
            <li><a href="">4</a></li>
            <li><a href="">5</a></li>
            <li><a href="">6</a></li>
        </ul>
    </main>

    <!--<footer>-->
        <!--футер-->
    <!--</footer>-->

    <!-- -------------------------------------------------------------------------------- -->
    <!-- Стрелка возврата к шапке страницы -->
    <a href="#top" id="arrow-to-top" class="arrow-to-top scrolled"></a>
    <!-- -------------------------------------------------------------------------------- -->

    <link rel="stylesheet" href="css/all/1_common.css">
    <link rel="stylesheet" href="css/page/page__index.css">

    <script src="js/page/page__index.js"></script>
    <script src="js/custom/scroll-to.js"></script>

    <!-- -------------------------------------------------------------------------------- -->
    <script>
        (function(){
            let lang = document.getElementById('js-lang-select'),
                langChild = lang.getElementsByTagName('input'),
                html = document.getElementsByTagName('html')[0];


            lang.addEventListener('click', function(event){
                /*
                 *   Установка языкового атрибута
                 *   Сохранение данных в localStorage
                 **/
                if(event.target.value == 'ru') {
                    html.setAttribute('lang', 'en');
                    localStorage.setItem('lang', 'en');
                    langChild[0].value = 'en';
                } else if(event.target.value == 'en') {
                    html.setAttribute('lang', 'ru');
                    localStorage.setItem('lang', 'ru');
                    langChild[0].value = 'ru';
                }
            });

            if (localStorage.getItem('lang')) {
                /*
                 *   Получение данных из localStorage и установка языкового атрибута
                 **/
                html.setAttribute('lang', localStorage.getItem('lang'));
                langChild[0].value = localStorage.getItem('lang');

                if(langChild[0].value == 'en') {
                    langChild[0].checked = true;
                } else {
                    langChild[0].checked = false;
                }
            }
        })();
        /*
        *   После загрузки всех всего DOM дерева со стилями, прелоадер скрывается
        **/
        (function(){
            document.addEventListener('DOMContentLoaded', function(){
                document.getElementById('loader').classList.add('animation');

                setTimeout(function () {
                    document.getElementById('loader').style.display = "none";
                }, 300);
            })
        })();
    </script>
    <!-- -------------------------------------------------------------------------------- -->
</body>
</html>